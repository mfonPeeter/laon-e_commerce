"use strict";(self.webpackChunklaon_e_commerce=self.webpackChunklaon_e_commerce||[]).push([[382],{1382:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var s=r(1413),n=r(4165),a=r(5861),o=r(885),i=r(2791),c=r(3896),l=r(7689),u=r(654),m=r(2062),d=r(4810),p=r(184),x=function(){var e=(0,i.useState)(!0),t=(0,o.Z)(e,2),r=t[0],x=t[1],h=(0,i.useState)(!1),f=(0,o.Z)(h,2),g=f[0],w=f[1],j=(0,i.useState)(!1),y=(0,o.Z)(j,2),b=y[0],k=y[1],N=(0,l.s0)(),v=(0,i.useContext)(u.Z),S=(0,c.cI)(),Z=S.register,C=S.handleSubmit,A=S.formState.errors,_=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var s,a,o,i,c,l,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.email,a=t.password,k(!0),o=r?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDOuliHGNkGaDF7oF2cPQchxui_Cu5wdUM":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDOuliHGNkGaDF7oF2cPQchxui_Cu5wdUM",e.prev=3,e.next=6,fetch(o,{method:"POST",body:JSON.stringify({email:s,password:a,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}});case 6:if(i=e.sent,k(!1),i.ok){e.next=15;break}return e.next=11,i.json();case 11:if(c=e.sent,w("Authentication failed"),!(c&&c.error&&c.error.message)){e.next=15;break}throw new Error(c.error.message);case 15:return e.next=17,i.json();case 17:l=e.sent,u=new Date((new Date).getTime()+1e3*+l.expiresIn),v.login(l.idToken,u.toISOString()),w(""),N("/",{replace:!0}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),w(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"container mx-auto my-28",children:[(0,p.jsx)("h3",{className:"mb-6 text-center text-2xl font-semibold",children:r?"Login":"Sign Up"}),g&&(0,p.jsxs)("p",{className:"mb-4 text-red-500 text-center",children:["Error: ",g]}),(0,p.jsxs)("form",{onSubmit:C(_),className:"flex flex-col items-center justify-center space-y-6 mb-6 text-center",children:[(0,p.jsxs)("div",{className:"auth-form-input-container",children:[(0,p.jsx)("input",(0,s.Z)({type:"text",placeholder:"E-mail",className:"auth-form-input ".concat(A.email?"auth-form-input-error":"auth-form-input-correct")},Z("email",{required:"Enter your e-mail",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid e-mail address"}}))),A.email&&(0,p.jsx)("span",{className:"self-start ml-2 text-red-500 text-sm",children:A.email.message})]}),(0,p.jsxs)("div",{className:"auth-form-input-container",children:[(0,p.jsx)("input",(0,s.Z)({type:"password",placeholder:"Password",className:"auth-form-input ".concat(A.password?"auth-form-input-error":"auth-form-input-correct")},Z("password",{required:"Enter your password"}))),A.password&&(0,p.jsx)("span",{className:"self-start ml-2 text-red-500 text-sm",children:A.password.message})]}),!b&&(0,p.jsx)("button",{className:"auth-btn py-3 w-3/4 text-lg md:w-1/2 lg:w-1/3",children:r?"Login":"Create Account"}),b&&(0,p.jsx)(d.Z,{})]}),(0,p.jsx)("div",{className:"flex justify-center mb-6",children:(0,p.jsx)("button",{onClick:function(){x((function(e){return!e}))},className:"p-1 text-lg transition-colors outline-blue-800 hover:text-blue-800",children:r?"Create new account":"Login with existing account"})}),(0,p.jsx)("div",{className:"flex items-center justify-center cursor-default",children:(0,p.jsx)("img",{src:m,alt:"Laon Logo",className:"w-20 h-20"})})]})},h=function(){return(0,p.jsx)(x,{})}}}]);
//# sourceMappingURL=382.608d3bc8.chunk.js.map